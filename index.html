<!DOCTYPE html>

<html>

<head>

    <title>Libretto - EPUB Library Manager</title>
    <link rel="stylesheet" href="index.css">
    <link 
    rel="stylesheet" 
    href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css">

</head>

<body>

    <h1>Libretto - EPUB Library Manager</h1>
    
    <div class="container">

        <div class="sidebar">

            <h2>Add New Book</h2>

            <div class="form-group">

                <label for="bookTitle">Title</label>
                <input type="text" id="bookTitle" placeholder="Book title">

            </div>

            <div class="form-group">

                <label for="bookAuthor">Author</label>
                <input type="text" id="bookAuthor" placeholder="Book author">

            </div>

            <div class="form-group">

                <label for="bookDate">Publication Date</label>
                <input type="date" id="bookDate" placeholder="Publication Date">

            </div>

            <div class="form-group">

                <label for="bookDescription">Description</label>
                <textarea id="bookDescription" rows="4" placeholder="Book description"></textarea>

            </div>

            <div class="form-group">

                <label for="bookTags">Tags (comma separated)</label>
                <input type="text" id="bookTags" placeholder="fiction, fantasy, etc.">
            </div>

            <div class="form-group">

                <button id="selectEpubBtn" class="button is-primary">Select EPUB File</button>
                <div id="selectedEpubFile" style="margin-top: 5px; font-size: 12px; color: #666;"></div>
                
            </div>

            <div class="form-group">
                <button id="selectCoverBtn">Select Cover Image</button>
                <div id="selectedCoverImageDiv"><img id="selectedCoverImage"></div>
                <div id="selectedCoverFile" style="margin-top: 5px; font-size: 12px; color: #666;"></div>
            </div>

            <button id="addBookBtn" disabled>Add Book</button>

        </div>
        
        <div class="main-content">
            <h2>Your Library</h2>
            <div class="book-grid" id="bookGrid"></div>
        </div>
    </div>
    
    <!-- Book Details Modal -->
    <div class="modal" id="bookModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalBookTitle">Book Title</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            
            <div class="tabs">
                <div class="tab active" data-tab="details">Details</div>
                <div class="tab" data-tab="read">Read</div>
            </div>
            
            <div class="tab-content active" id="detailsTab">
                <div style="display: flex; gap: 20px;">
                    <div style="flex: 0 0 150px;">
                        <div id="modalBookCover" style="width: 150px; height: 200px; background-color: #eee; background-size: cover; background-position: center;"></div>
                    </div>
                    <div style="flex: 1;">
                        <p><strong>Author:</strong> <span id="modalBookAuthor"></span></p>
                        <p><strong>Description:</strong></p>
                        <p id="modalBookDescription"></p>
                        <div class="book-tags" id="modalBookTags"></div>
                    </div>
                </div>
                <div style="margin-top: 20px;">
                    <button id="deleteBookBtn">Delete Book</button>
                </div>
            </div>
            
            <div class="tab-content" id="readTab">
                <div style="text-align: center; padding: 40px 0;">
                    <p>This feature would integrate with an EPUB reader.</p>
                    <button id="openExternalBtn">Open in External Reader</button>
                </div>
            </div>

            <!-- Web server controls -->
            <div style="margin-top: 20px; display: flex; gap: 10px;">
                <button id="startServerBtn">Share Library Online</button>
                <button id="stopServerBtn">Stop Server</button>
                <div id="serverStatus" style="margin-left: 10px; line-height: 30px;"></div>
            </div>
        </div>
    </div>

    <script src="render.js"></script>

</body>
</html>